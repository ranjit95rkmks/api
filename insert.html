<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insert</title>
    <link rel="stylesheet" href="css/milligram.css">

</head>

<body>
    <div id="loader" class="loading d-none">
    </div>
    <div class="container">
        <div class="row">
            <div class="column">
                <label for="ProductName">Product Name</label>
                <input id="ProductName" type="text">
                <label for="ProductCode">Product Code</label>
                <input id="ProductCode" type="text">
                <label for="ProductImg">Product Image</label>
                <input id="ProductImg" type="text">
                <label for="UnitPrice">Unit Price</label>
                <input id="UnitPrice" type="text">
                <label for="ProductQty">Product Qty</label>
                <input id="ProductQty" type="text">
                <label for="ProductTotal">Product Total</label>
                <input id="ProductTotal" type="text">
                <button onclick="createData()" type="submit">Submit</button>
            </div>
        </div>
    </div>
    <script src="js/axios.min.js"></script>

    <script>
        async function createData() {
            let ProductName = document.getElementById('ProductName').value;
            let ProductCode = document.getElementById('ProductCode').value;
            let ProductImg = document.getElementById('ProductImg').value;
            let UnitPrice = document.getElementById('UnitPrice').value;
            let ProductQty = document.getElementById('ProductQty').value;
            let ProductTotal = document.getElementById('ProductTotal').value;
            let URL = `https://crud.teamrabbil.com/api/v1/CreateProduct/`
            document.getElementById('loader').classList.remove('d-none')
            let res = await axios.post(URL,
                {
                    Img: ProductImg,
                    ProductCode: ProductCode,
                    ProductName: ProductName,
                    Qty: ProductQty,
                    TotalPrice: ProductTotal,
                    UnitPrice: UnitPrice
                }
            );
            document.getElementById('loader').classList.add('d-none')
            if (res.status === 200) {
                window.location = "index.html"
            }
            else {
                alert("error")
            }

        }
    </script>

</body>

</html>